{
  "hash": "b0fa36a88364862f7cd58b39012338d0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: A glimpse of change, or just another day with a win over Duke\ndate: '2021-02-07'\ndraft: false\n---\n\n\n\nHere it is, it's been almost a year since the last post. All 3 other blue blood programs lost on the same night^[What are the odds that this happens? Maybe add UK and KU's data in uncmbb in the future?], compelling me to crawl back here after a year-long break. \n\nWhen I first thought of working on this post, writing about all the changes since the last post seemed to be a reasonable thing to do, e.g., all the changes in the world, in this country, at work and home. Then it didn't take long to realize it'd be too much for the first post in a year (where do I even begin), and more importantly and frankly, things are still the same more or less, although I will say things seem to be heading in the right direction. Instead, a small, manageable starting point would be going back to where the blog was born out of, namely the uncmbb package and the team behind the package.\n\nFirst, [uncmbb](https://cran.r-project.org/web/packages/uncmbb/index.html) package is finally updated with last season's results. For the last couple of years, I updated the package during summer, but since the abrupt end to the last season, and more importantly with everything that's been going on, the package wasn't anywhere near my priority throughout the year. Then, literally at the last second of the year, I felt like updating the package was one easy and small task that I could and should do before saying goodbye to the (un)forgettable year and jumped at it^[Also found out that the package submission reviewers do take (extremely deserving) break at the end of the year.]. While at it, several changes needed to be made, including dumping travis and updating R/RStudio versions, and surely it was another great CRAN release experience. \n\nThen this weekend, all 3 other blue blood schools lost, and I'm especially giddy with joy at how Duke and Kentucky are doing so far. We're not doing that well either, but after the (un)forgettable last season (it was Coach Williams' first losing season ever), I needed something, really anything that could help me get over it, and the other teams' current form would definitely do it. Yes, maybe this season (and last season too) deserves an asterisk, but even so. \n\nFor the UNC-Duke game, heard it was first time niether team was ranked, but still the stake and the importance were still high for both teams, and I'm just glad we came out with a W. I've seen some crazy numbers between the two programs in terms of how close the teams have parred (e.g., almost 50:50 win/loss and scored/allowed), and thought I'd check that using uncmbb package, starting from when Coach K joined Duke. \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(uncmbb)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(jutilr)\n\nK_start <- 1981\n\nnc <- unc %>% filter(Opponent_School == \"Duke\") %>%\n        filter(Season >= K_start)\nnc <- nc %>% mutate(game_no = as.numeric(rownames(nc)))\n\nnc %>% group_by(Result) %>%\n       summarize(games = n()) %>%\n       add_percent(var = \"games\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: `mutate_()` was deprecated in dplyr 0.7.0.\nℹ Please use `mutate()` instead.\nℹ See vignette('programming') for more help\nℹ The deprecated feature was likely used in the jutilr package.\n  Please report the issue to the authors.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 3\n  Result games  perc\n  <chr>  <int> <dbl>\n1 L         49 0.516\n2 W         46 0.484\n```\n\n\n:::\n\n```{.r .cell-code}\nnc %>% summarize(scored = sum(Tm), allowed = sum(Opp))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  scored allowed\n1   7420    7456\n```\n\n\n:::\n:::\n\n\n\nSo it seems like we're 3 games and 36 scores behind from the 95 games played between the two programs since Coach K joined Duke through last season.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnc_records <- nc %>% mutate(match_result = case_when(Result == \"W\" ~ 1,\n                                                     Result == \"L\" ~ -1)) %>%\n                     mutate(accum_result = cumsum(match_result)) %>%\n                     mutate(accum_scores = cumsum(Tm - Opp))\n\nnc_records %>% ggplot(aes(x = game_no, y = accum_scores, group = 1)) +\n               geom_line() + \n               geom_point(aes(colour = Result == \"W\")) +\n               geom_text(aes(label = accum_result), hjust = -0.2) +\n               geom_hline(yintercept = 0, colour = \"red\", linetype = \"dotted\") + \n               scale_y_continuous(breaks = seq(-200, 200, 10)) +\n               scale_x_continuous(breaks = seq(0, 100, 5)) +\n               theme_bw() +\n               theme(legend.position=\"none\") +\n               labs(title = paste0(\"Score differentials since \", K_start-1, \"-\", K_start, \" season\"))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/score-diff-1.png){width=672}\n:::\n:::\n\n\n\nMid-late 1990s, we were pretty dominant raking in 13 more wins head to head. Then early 2000s happened, and after the glorious Psycho-T and Joel Berry eras, we've been on 3 game losing streak. With this weekend's W, we should be heading back up and I hope we cross the zero differential line soon.  \n\n~~Yeah, Kentucky is out, but~~ who knows, Duke might make the NCAA tournament after all (assuming there'll be one), and we might end up playing unspectacularly in the remaining conference schedule. But at least for this weekend, we came out with a good W, and hopefully it is one of the rare glimpses of change for the new year. \n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}