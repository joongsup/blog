{
  "hash": "a2acca1c4f4eefd07afd7e642854071b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Package uncmbb updated!\ndate: '2018-04-17'\ndraft: false\n---\n\n\n\nEver since UNCMBB team's season ended about a month ago, I've been meaning to update the data in uncmbb package, and I finally got to it. Obviously the new version includes 2017-2018 season match results for both UNC and Duke MBB teams, but it also includes new features in wrapper functions that are useful when working with uncmbb package. \n\nI forgot to take notes of the steps taken when I was submitting uncmbb to CRAN for the first time last year, and this time I remembered to do so and take some screenshots too. Below are some notes related to package submission:\n\n- Update R and RStudio versions\n    - This is one of the prompts asked when calling devtools::release(), which is almost^[I say it almost here, because there's literally last step one has to do before submitting to CRAN.] the final step in submitting a package to CRAN.\n    - I didn't really start with updating R and RStudio this time and only ended up doing so when I ran into this prompt. \n    - For R version update, there seem to be much better ways to do it, but I ended up manually downloading latest R from CRAN and installing packages as I needed them, starting, e.g., with tidyverse. I could've copied over from previous version's directory as well as personal directory, but I figured some packages needed to be updated anyway, so I might as well start anew with the packages.^[Yes it's quite cumbersome, and there's got to be a better way to do this that I don't know of yet.] \n- Make changes/load all/install and restart/document/check, and commit as needed.\n    - This workflow (constant cycles of cmd-shift-L/B/D/E) makes sure my package is ok on current OS, which is Mac. \n- Travis CI builds linux (Ubuntu) binary package and makes sure package is ok on linux (Ubuntu). \n    - I already added Travis-CI to uncmbb project during the season^[https://juliasilge.com/blog/beginners-guide-to-travis/] and added build badge to the package github page along with other badges^[The badges ended up giving me some headache during CRAN submission.]. \n- Once CI is passed, run devtools::build_win()\n    - This function builds windows binary package and makes sure package is ok on windows (runs R CMD check on windows).\n    - Built package and check log are sent to email.\n- Once devtools::build_win() is passed, run devtools::release()\n    - The function performs a series of tasks, and for the first several attempts, I kept getting this warning: \"...* checking top-level files ... WARNING Conversion of ‘README.md’ failed: pandoc: Could not fetch...TlsExceptionHostPort (HandshakeFailed Error_EOF) \"img.shields.io\" 443...\". \n\t  - It seemed pandoc had something to do with this warning, so after several searches, I ended up updating my pandoc via homebrew. \n\t  - But even after I updated my pandoc, rmarkdown was still using the old version, and I found out I had to run brew link pandoc to use the latest version. \n- Once devtools::release() is passed, do the following last step task:\n    - Go to confirmation page provided in the submission confirmation email^[I didn't do this after receiving the confirmation email first time (after devtools::release() was completed), and kept wondering why there was no more update coming from CRAN.].\n    - Once confirmed on the page, there will be another cran submission confirmation email.\n    - Less than an hour later, I received yet another email from CRAN team that says the updated package \"is on its way to CRAN now\". Yay!\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsuppressPackageStartupMessages(library(uncmbb))\nsuppressPackageStartupMessages(library(dplyr))\n\ntail(unc)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     Season  Game_Date Game_Day   Type Where      Opponent_School Result Tm Opp\n2256   2020 2020-02-25      Tue    REG     H North Carolina State      W 85  79\n2257   2020 2020-02-29      Sat    REG     A             Syracuse      W 92  79\n2258   2020 2020-03-03      Tue    REG     H          Wake Forest      W 93  83\n2259   2020 2020-03-07      Sat    REG     A                 Duke      L 76  89\n2260   2020 2020-03-10      Tue CTOURN     N        Virginia Tech      W 78  56\n2261   2020 2020-03-11      Wed CTOURN     N             Syracuse      L 53  81\n       OT\n2256 <NA>\n2257 <NA>\n2258 <NA>\n2259 <NA>\n2260 <NA>\n2261 <NA>\n```\n\n\n:::\n\n```{.r .cell-code}\nduke %>% mbb_season_result() %>%\n        filter(Type == \"REG\") %>%\n        arrange(desc(pct_win)) %>%\n        head(5) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 7\n# Groups:   Season [5]\n  Season Type  games  wins losses pct_win pct_loss\n  <chr>  <chr> <int> <int>  <int>   <dbl>    <dbl>\n1 1999   REG      30    29      1   0.967   0.0333\n2 1986   REG      31    29      2   0.935   0.0645\n3 1998   REG      29    27      2   0.931   0.0690\n4 1992   REG      27    25      2   0.926   0.0741\n5 1963   REG      23    21      2   0.913   0.0870\n```\n\n\n:::\n\n```{.r .cell-code}\nunc %>% mbb_champ_season()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 1\n# Groups:   Season [6]\n  Season\n  <chr> \n1 1957  \n2 1982  \n3 1993  \n4 2005  \n5 2009  \n6 2017  \n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}